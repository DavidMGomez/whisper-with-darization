# Configuration for Cog ⚙️
# Reference: https://github.com/replicate/cog/blob/main/docs/yaml.md

build:
  # set to true if your model requires a GPU
  gpu: true

  # a list of ubuntu apt packages to install
  system_packages:
    - "ffmpeg"
    - "libmagic1"
    # - "libgl1-mesa-glx"
    # - "libglib2.0-0"

  python_version: "3.8"

  python_packages:
    - absl-py==2.1.0
    - aiohttp==3.9.5
    - aiosignal==1.3.1
    - alembic==1.13.1
    - antlr4-python3-runtime==4.9.3
    - anyio==4.3.0
    - asteroid-filterbanks==0.4.0
    - asttokens==2.4.1
    - astunparse==1.6.3
    - async-timeout==4.0.3
    - attrs==23.2.0
    - audioread==3.0.1
    - av==11.0.0
    - backcall==0.2.0
    - braceexpand==0.1.7
    - cachetools==5.3.3
    - certifi==2024.2.2
    - cffi==1.16.0
    - chardet==5.2.0
    - charset-normalizer==3.3.2
    - click==8.1.7
    - cloudpickle==3.0.0
    - cmake==3.29.3
    - coloredlogs==15.0.1
    - colorlog==6.8.2
    - comm==0.2.2
    - contourpy==1.1.1
    - ctranslate2==4.2.1
    - cycler==0.12.1
    - Cython==3.0.10
    - decorator==5.1.1
    - deepmultilingualpunctuation==1.0.1
    - demucs @ git+https://github.com/facebookresearch/demucs@e976d93ecc3865e5757426930257e200846a520a
    - dill==0.3.8
    - Distance==0.1.3
    - docker-pycreds==0.4.0
    - docopt==0.6.2
    - dora-search==0.1.12
    - EasyNMT==2.0.2
    - editdistance==0.8.1
    - einops==0.8.0
    - exceptiongroup==1.2.1
    - executing==2.0.1
    - fastapi==0.98.0
    - faster-whisper==1.0.0
    - fasttext==0.9.2
    - filelock==3.14.0
    - flatbuffers==2.0.7
    - fonttools==4.51.0
    - frozenlist==1.4.1
    - fsspec==2024.5.0
    - g2p-en==2.1.0
    - gast==0.4.0
    - gitdb==4.0.11
    - GitPython==3.1.43
    - google-auth==2.29.0
    - google-auth-oauthlib==1.0.0
    - google-pasta==0.2.0
    - greenlet==3.0.3
    - grpcio==1.63.0
    - h11==0.14.0
    - h5py==3.11.0
    - httptools==0.6.1
    - huggingface-hub==0.23.0
    - humanfriendly==10.0
    - hydra-core==1.3.2
    - HyperPyYAML==1.2.2
    - idna==3.7
    - importlib-metadata==7.1.0
    - importlib-resources==6.4.0
    - inflect==7.2.1
    - ipython==8.12.3
    - ipywidgets==8.1.2
    - jedi==0.19.1
    - jinja2==3.1.4
    - jiwer==3.0.4
    - joblib==1.4.2
    - julius==0.2.7
    - jupyterlab-widgets==3.0.10
    - kaldi-python-io==1.2.2
    - kaldiio==2.18.0
    - keras==2.7.0
    - Keras-Preprocessing==1.1.2
    - kiwisolver==1.4.5
    - lameenc==1.7.0
    - lazy-loader==0.4
    - Levenshtein==0.25.1
    - libclang==18.1.1
    - librosa==0.10.2.post1
    - lightning==2.2.4
    - lightning-utilities==0.11.2
    - lit==18.1.6
    - llvmlite==0.41.1
    - loguru==0.7.2
    - Mako==1.3.5
    - Markdown==3.6
    - markdown-it-py==3.0.0
    - MarkupSafe==2.1.5
    - marshmallow==3.21.2
    - matplotlib==3.7.5
    - matplotlib-inline==0.1.7
    - mdurl==0.1.2
    - more-itertools==10.2.0
    - mpmath==1.3.0
    - msgpack==1.0.8
    - multidict==6.0.5
    - natsort==8.4.0
    - nemo-toolkit==1.21.0
    - networkx==3.1
    - nltk==3.8.1
    - numba==0.58.1
    - numpy==1.23.5
    - oauthlib==3.2.2
    - omegaconf==2.3.0
    - onnx==1.12.0
    - onnxruntime==1.18.0
    - onnxruntime-gpu==1.16.0
    - openunmix==1.2.1
    - opt-einsum==3.3.0
    - optuna==3.6.1
    - packaging==24.0
    - pandas==2.0.3
    - parso==0.8.4
    - pexpect==4.9.0
    - pickleshare==0.7.5
    - pillow==10.3.0
    - plac==1.4.3
    - platformdirs==4.2.2
    - pooch==1.8.1
    - primePy==1.3
    - prompt-toolkit==3.0.43
    - pyannote.audio
    - pyannote.core
    - pyannote.database
    - pyannote.metrics
    - pyannote.pipeline
    - pyasn1==0.6.0
    - pyasn1-modules==0.4.0
    - pybind11==2.12.0
    - pycparser==2.22
    - pydantic==1.10.15
    - pydub==0.25.1
    - pygments==2.18.0
    - pyparsing==3.1.2
    - pysrt==1.1.2
    - python-dateutil==2.9.0.post0
    - python-dotenv==1.0.1
    - python-magic==0.4.27
    - python-speech-features==0.6
    - pytorch-lightning==2.0.7
    - pytorch-metric-learning==2.5.0
    - pytz==2024.1
    - PyYAML==6.0.1
    - rapidfuzz==3.9.1
    - regex==2024.5.15
    - requests==2.31.0
    - requests-oauthlib==2.0.0
    - retrying==1.3.4
    - rich==13.7.1
    - rsa==4.9
    - ruamel.yaml
    - ruamel.yaml.clib
    - sacremoses==0.0.53
    - safetensors==0.4.3
    - scikit-learn==1.3.2
    - scipy==1.10.1
    - semver==3.0.2
    - sentencepiece==0.1.97
    - sentry-sdk==2.2.0
    - setproctitle==1.3.3
    - shellingham==1.5.4
    - six==1.16.0
    - smmap==5.0.1
    - sniffio==1.3.1
    - sortedcontainers==2.4.0
    - soundfile==0.12.1
    - sox==1.4.1
    - soxr==0.3.7
    - speechbrain==1.0.0
    - SQLAlchemy==2.0.30
    - stack-data==0.6.3
    - starlette==0.27.0
    - structlog==24.1.0
    - submitit==1.5.1
    - sympy==1.12
    - tabulate==0.9.0
    - tensorboard==2.14.0
    - tensorboard-data-server==0.7.2
    - tensorboardX==2.6
    - termcolor==2.4.0
    - text-unidecode==1.3
    - texterrors==0.4.4
    - threadpoolctl==3.5.0
    - tokenizers==0.13.2
    - torch==2.0.1+cu118
    - torch-audiomentations==0.11.1
    - torch-pitch-shift==1.2.4
    - torchaudio==2.0.2+cu118
    - torchdata==0.6.1
    - torchmetrics==1.4.0.post0
    - torchtext==0.15.2+cpu
    - torchvision==0.15.2+cu118
    - tqdm==4.64.1
    - traitlets==5.14.3
    - transformers==4.33.3
    - treetable==0.2.5
    - triton==2.0.0
    - typeguard==4.2.1
    - typer==0.12.3
    - typing-extensions==4.11.0
    - tzdata==2024.1
    - urllib3==2.2.1
    - uvicorn==0.29.0
    - uvloop==0.19.0
    - wandb==0.17.0
    - watchfiles==0.21.0
    - wcwidth==0.2.13
    - webdataset==0.1.62
    - websockets==12.0
    - werkzeug==3.0.3
    - wget==3.2
    - whisperx @ git+https://github.com/m-bain/whisperX.git@f2da2f858e99e4211fe4f64b5f2938b007827e17
    - widgetsnbextension==4.0.10
    - wrapt==1.16.0
    - yarl==1.9.4
    - youtokentome==1.0.6
    - zipp==3.18.2
    - google-cloud-pubsub
  # commands run after the environment is setup
  run:
    - "echo env is ready!"
    # - "echo another command if needed"

# predict.py defines how predictions are run on your model
predict: "predict.py:Predictor"
